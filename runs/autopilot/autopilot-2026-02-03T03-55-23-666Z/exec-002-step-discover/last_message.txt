1) Research question
- Determine latest autopilot runId(s), expected artifact layout from `examples/codex-autopilot.ts`, and assess current artifacts under `runs/autopilot` without modifying files.

2) Sources consulted
- `examples/codex-autopilot.ts`
- `runs/autopilot` directory listing
- `runs/autopilot/autopilot-2026-02-03T03-55-23-666Z/manifest.json`
- `runs/autopilot/autopilot-2026-02-03T03-55-23-666Z/exec-001-workflow-gen-iteration-1`
- `runs/autopilot/autopilot-2026-02-03T03-55-23-666Z/exec-002-step-discover`

3) Findings
- Expected artifact layout: `runs/autopilot/<runId>/manifest.json` plus per-exec directories named `exec-###-<label>` containing `events.jsonl`, `stderr.txt`, and `last_message.txt` (optional `schema.json` when `--output-schema` used). Source: `examples/codex-autopilot.ts:560-722`.
- Latest runId directory present: `runs/autopilot/autopilot-2026-02-03T03-55-23-666Z`. JSON run logs in the same folder include `autopilot-2026-02-03T03-36-23-338Z.json` and earlier (no JSON for the latest directory).
- `manifest.json` exists in the latest run directory and lists only one exec entry (`workflow-gen:iteration-1`) with artifacts paths for `events.jsonl`, `stderr.txt`, `last_message.txt`.
- `exec-001-workflow-gen-iteration-1` contains all three expected artifacts: `events.jsonl`, `stderr.txt`, `last_message.txt`.
- `exec-002-step-discover` exists and contains `events.jsonl` and `stderr.txt` only; `last_message.txt` is missing.
- `manifest.json` does not include the `exec-002-step-discover` entry, indicating the manifest was not updated for that exec.

4) Implications for the task
- The capture logic is designed to always write `last_message.txt` and always append each exec to the manifest; the latest run appears to be incomplete or interrupted mid-run.
- A smoke-test workflow should verify presence of `manifest.json` and per-exec artifacts for all exec directories, and flag missing `last_message.txt` or missing manifest entries.

5) Open questions
- None.

6) Assumptions
- The latest run is defined by the most recent timestamped directory under `runs/autopilot/`.

Minimal workflow (read-only, two steps: verify + done)
```json
{
  "version": 1,
  "id": "autopilot-artifacts-smoketest",
  "name": "Autopilot Run Artifacts Smoke Test",
  "steps": [
    {
      "id": "verify-artifacts",
      "type": "agent.run",
      "goal": "Read-only check: identify the latest runId under runs/autopilot (highest timestamped directory). Confirm runs/autopilot/<runId>/manifest.json exists. For each exec-* directory, verify events.jsonl, stderr.txt, and last_message.txt exist. Report any missing files or manifest omissions."
    },
    {
      "id": "done",
      "type": "agent.run",
      "dependsOn": ["verify-artifacts"],
      "goal": "Declare done with a brief summary of artifacts found and issues."
    }
  ]
}
```

**Done summary**
- Latest run directory: `runs/autopilot/autopilot-2026-02-03T03-55-23-666Z`.
- Artifacts present: `manifest.json` at run root; `exec-001-workflow-gen-iteration-1` has `events.jsonl`, `stderr.txt`, `last_message.txt`; `exec-002-step-discover` has `events.jsonl`, `stderr.txt` only.
- Issues: `exec-002-step-discover` missing `last_message.txt`; `manifest.json` does not include `exec-002-step-discover`.  
Remaining risks: latest run may have been interrupted, so artifacts and manifest may be partial.